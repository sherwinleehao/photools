#!/usr/bin/python3
# -*- coding: utf-8 -*-

"""
Image Tool Library

Author: Sherwin Lee
Website: Sherwinleehao.com
Last edited: 20180824

Task:

1.Drag and Drop to import the files

2.load image in the background

"""

import sys
from PyQt5.QtWidgets import (QWidget, QSlider, QApplication, QHBoxLayout, QVBoxLayout)
from PyQt5.QtCore import QObject, Qt, pyqtSignal
from PyQt5.QtGui import QPainter, QFont, QColor, QPen
from PyQt5.QtWidgets import *
from PyQt5.QtCore import *
from PyQt5.QtGui import *
import os, random
import uuid


class AudioWaveform(QWidget):
    def __init__(self):
        super().__init__()
        self.initUI()

    def initUI(self):
        self.value = 75
        self.wave = [[0, 22], [1, 3202], [2, 18270], [3, 10461], [4, 13168], [5, 11421], [6, 10315], [7, 12092], [8, 13990], [9, 9218], [10, 7280], [11, 6488], [12, 6687], [13, 5098], [14, 4287], [15, 4357], [16, 4285], [17, 14456], [18, 12293], [19, 11666], [20, 10777], [21, 9926], [22, 11915], [23, 14388], [24, 9823], [25, 8938], [26, 7436], [27, 5821], [28, 4981], [29, 4512], [30, 3974], [31, 3934], [32, 6258], [33, 17888], [34, 12371], [35, 12961], [36, 12171], [37, 10237], [38, 13952], [39, 14366], [40, 9625], [41, 8793], [42, 6689], [43, 5650], [44, 5860], [45, 7208], [46, 6524], [47, 4170], [48, 12817], [49, 12288], [50, 10271], [51, 10962], [52, 12845], [53, 10540], [54, 16499], [55, 12160], [56, 8764], [57, 9560], [58, 8233], [59, 5850], [60, 4114], [61, 3058], [62, 2860], [63, 7369], [64, 8476], [65, 4388], [66, 4191], [67, 2730], [68, 2771], [69, 1959], [70, 1847], [71, 1435], [72, 994], [73, 960], [74, 697], [75, 935], [76, 577], [77, 358], [78, 253], [79, 12304], [80, 14001], [81, 13824], [82, 10465], [83, 12396], [84, 14756], [85, 12947], [86, 6814], [87, 9204], [88, 10856], [89, 10239], [90, 9620], [91, 12056], [92, 7985], [93, 5695], [94, 14575], [95, 17634], [96, 10372], [97, 10075], [98, 11106], [99, 9807], [100, 11537], [101, 9009], [102, 10229], [103, 10684], [104, 12594], [105, 12693], [106, 16163], [107, 12312], [108, 5962], [109, 9939], [110, 15850], [111, 13643], [112, 12928], [113, 10566], [114, 12961], [115, 10791], [116, 10605], [117, 8190], [118, 11078], [119, 12193], [120, 10885], [121, 9363], [122, 12029], [123, 10293], [124, 8674], [125, 6381], [126, 6492], [127, 4098], [128, 7387], [129, 11640], [130, 11343], [131, 7511], [132, 4814], [133, 2903], [134, 3985], [135, 2051], [136, 1370], [137, 953], [138, 715], [139, 473], [140, 1823], [141, 14687], [142, 17147], [143, 15735], [144, 14070], [145, 13092], [146, 14763], [147, 15006], [148, 8423], [149, 12597], [150, 12523], [151, 12410], [152, 9391], [153, 12433], [154, 8241], [155, 4762], [156, 12461], [157, 15846], [158, 13709], [159, 15671], [160, 11563], [161, 12876], [162, 13796], [163, 12554], [164, 11130], [165, 12753], [166, 14299], [167, 14333], [168, 13483], [169, 13088], [170, 6917], [171, 11190], [172, 16345], [173, 14493], [174, 14857], [175, 12851], [176, 14470], [177, 15080], [178, 10767], [179, 7405], [180, 10433], [181, 10242], [182, 10505], [183, 13366], [184, 16466], [185, 16185], [186, 15011], [187, 12192], [188, 13032], [189, 14571], [190, 10114], [191, 13572], [192, 14433], [193, 12281], [194, 10986], [195, 12546], [196, 15053], [197, 13683], [198, 16062], [199, 16931], [200, 14358], [201, 13624], [202, 11941], [203, 19839], [204, 18674], [205, 18809], [206, 21672], [207, 31859], [208, 23088], [209, 26269], [210, 21298], [211, 32767], [212, 20735], [213, 8633], [214, 3084], [215, 1629], [216, 11958], [217, 24770], [218, 31541], [219, 31281], [220, 24928], [221, 25916], [222, 32767], [223, 30165], [224, 28362], [225, 25816], [226, 28579], [227, 20204], [228, 22540], [229, 24399], [230, 32767], [231, 22588], [232, 23879], [233, 30540], [234, 32767], [235, 21543], [236, 29338], [237, 20908], [238, 32767], [239, 21510], [240, 29236], [241, 25907], [242, 31765], [243, 25191], [244, 15057], [245, 31498], [246, 22899], [247, 25618], [248, 23965], [249, 27273], [250, 31310], [251, 23774], [252, 28687], [253, 32767], [254, 28650], [255, 23912], [256, 22194], [257, 22844], [258, 14074], [259, 22035], [260, 24655], [261, 32767], [262, 29178], [263, 25159], [264, 15217], [265, 32452], [266, 24354], [267, 22402], [268, 27329], [269, 30337], [270, 21275], [271, 25100], [272, 32698], [273, 31775], [274, 26082], [275, 27435], [276, 32767], [277, 32676], [278, 32548], [279, 30338], [280, 32767], [281, 32759], [282, 26560], [283, 28940], [284, 32767], [285, 30136], [286, 30717], [287, 26345], [288, 32649], [289, 22283], [290, 24633], [291, 24905], [292, 31290], [293, 15786], [294, 32767], [295, 22268], [296, 32767], [297, 28871], [298, 31157], [299, 20807], [300, 29501], [301, 26287], [302, 28992], [303, 32379], [304, 31518], [305, 25517], [306, 17852], [307, 30333], [308, 22410], [309, 25843], [310, 24554], [311, 32317], [312, 30077], [313, 30084], [314, 29292], [315, 32709], [316, 26879], [317, 29419], [318, 21747], [319, 25555], [320, 15786], [321, 11067], [322, 10823], [323, 16016], [324, 17709], [325, 12447], [326, 9403], [327, 23423], [328, 14807], [329, 20290], [330, 17539], [331, 13319], [332, 13389], [333, 15388], [334, 9244], [335, 9142], [336, 6555], [337, 5993], [338, 4906], [339, 5101], [340, 5808], [341, 4751], [342, 15826], [343, 17100], [344, 14762], [345, 15398], [346, 15096], [347, 14188], [348, 17517], [349, 12628], [350, 9803], [351, 7601], [352, 7280], [353, 6308], [354, 11371], [355, 9364], [356, 10527], [357, 9582], [358, 27067], [359, 17035], [360, 17737], [361, 17719], [362, 20263], [363, 25331], [364, 25557], [365, 16276], [366, 11900], [367, 9933], [368, 10091], [369, 11378], [370, 11670], [371, 12147], [372, 8909], [373, 25431], [374, 16426], [375, 15615], [376, 16458], [377, 16287], [378, 12755], [379, 24576], [380, 16922], [381, 13048], [382, 11654], [383, 12688], [384, 12175], [385, 10341], [386, 8461], [387, 5588], [388, 4186], [389, 22410], [390, 15992], [391, 15845], [392, 15781], [393, 14879], [394, 14601], [395, 14947], [396, 14904], [397, 13945], [398, 18984], [399, 14524], [400, 15880], [401, 14028], [402, 8371], [403, 5425], [404, 21691], [405, 16376], [406, 14002], [407, 16588], [408, 13344], [409, 11764], [410, 13600], [411, 19709], [412, 16808], [413, 14573], [414, 18479], [415, 12469], [416, 18446], [417, 13133], [418, 8522], [419, 15316], [420, 25817], [421, 14728], [422, 12224], [423, 15229], [424, 14609], [425, 13604], [426, 18518], [427, 13015], [428, 15365], [429, 16546], [430, 14407], [431, 20649], [432, 14270], [433, 13070], [434, 16293], [435, 16505], [436, 10539], [437, 14715], [438, 12464], [439, 17782], [440, 9540], [441, 6483], [442, 16343], [443, 15105], [444, 8460], [445, 7179], [446, 15344], [447, 17333], [448, 11033], [449, 11683], [450, 7608], [451, 22910], [452, 20910], [453, 15475], [454, 20975], [455, 17533], [456, 18552], [457, 18272], [458, 18205], [459, 15194], [460, 15460], [461, 16100], [462, 18107], [463, 14839], [464, 8174], [465, 17523], [466, 21821], [467, 16042], [468, 20386], [469, 20374], [470, 20609], [471, 14702], [472, 14805], [473, 20706], [474, 19118], [475, 22430], [476, 16913], [477, 13514], [478, 15663], [479, 14892], [480, 11012], [481, 22781], [482, 24236], [483, 18321], [484, 21842], [485, 16428], [486, 19319], [487, 19682], [488, 19457], [489, 23660], [490, 14888], [491, 17649], [492, 15153], [493, 21242], [494, 25535], [495, 23740], [496, 19746], [497, 21045], [498, 23727], [499, 25586], [500, 26563], [501, 20774], [502, 18824], [503, 19377], [504, 23524], [505, 16362], [506, 24053], [507, 24578], [508, 24965], [509, 28599], [510, 21140], [511, 24056], [512, 23293], [513, 24345], [514, 19502], [515, 30188], [516, 25614], [517, 30975], [518, 27109], [519, 29469], [520, 32767], [521, 32767], [522, 13981], [523, 3534], [524, 29632], [525, 22663], [526, 26047], [527, 32767], [528, 32767], [529, 29918], [530, 28421], [531, 28717], [532, 32755], [533, 29522], [534, 29710], [535, 26926], [536, 32723], [537, 23604], [538, 25930], [539, 25597], [540, 32559], [541, 23967], [542, 25959], [543, 32677], [544, 30891], [545, 20390], [546, 29736], [547, 32704], [548, 25880], [549, 28005], [550, 31710], [551, 31585], [552, 27709], [553, 24033], [554, 13607], [555, 27919], [556, 26205], [557, 28080], [558, 26446], [559, 29542], [560, 25811], [561, 30807], [562, 26311], [563, 29464], [564, 28639], [565, 23478], [566, 21164], [567, 22460], [568, 19373], [569, 24963], [570, 30390], [571, 32767], [572, 31260], [573, 24303], [574, 28498], [575, 27782], [576, 24346], [577, 22820], [578, 30543], [579, 32518], [580, 26713], [581, 24343], [582, 32276], [583, 31544], [584, 29458], [585, 25638], [586, 32767], [587, 26737], [588, 32767], [589, 31598], [590, 32767], [591, 32740], [592, 32767], [593, 30377], [594, 32767], [595, 29421], [596, 31252], [597, 30254], [598, 32550], [599, 24548], [600, 23560], [601, 26659], [602, 31094], [603, 26889], [604, 32767], [605, 28274], [606, 32184], [607, 22430], [608, 32767], [609, 28241], [610, 30522], [611, 27472], [612, 24122], [613, 32767], [614, 30823], [615, 25446], [616, 14668], [617, 32574], [618, 25209], [619, 30960], [620, 23751], [621, 31045], [622, 27662], [623, 31605], [624, 22352], [625, 32507], [626, 26889], [627, 32453], [628, 26178], [629, 32608], [630, 21895], [631, 29770], [632, 23158], [633, 31812], [634, 29739], [635, 32767], [636, 32713], [637, 30389], [638, 24984], [639, 25941], [640, 32767], [641, 28117], [642, 24688], [643, 32209], [644, 31576], [645, 21291], [646, 22996], [647, 20973], [648, 32767], [649, 19809], [650, 20546], [651, 21604], [652, 32767], [653, 18969], [654, 19266], [655, 15193], [656, 32752], [657, 17984], [658, 18383], [659, 24811], [660, 27037], [661, 15269], [662, 19243], [663, 31285], [664, 28164], [665, 24843], [666, 22250], [667, 31705], [668, 23218], [669, 17350], [670, 18555], [671, 28518], [672, 19956], [673, 19362], [674, 32114], [675, 23554], [676, 17215], [677, 19285], [678, 16165], [679, 32767], [680, 18535], [681, 20710], [682, 28508], [683, 27991], [684, 19265], [685, 16893], [686, 13358], [687, 32671], [688, 18807], [689, 17448], [690, 24473], [691, 29107], [692, 16719], [693, 23963], [694, 29407], [695, 30178], [696, 27759], [697, 27326], [698, 30348], [699, 21680], [700, 15597], [701, 13824], [702, 19551], [703, 14160], [704, 19973], [705, 13987], [706, 17589], [707, 16828], [708, 24945], [709, 17024], [710, 25542], [711, 24249], [712, 28308], [713, 21019], [714, 27270], [715, 23652], [716, 31586], [717, 21550], [718, 27238], [719, 23487], [720, 32767], [721, 26191], [722, 32767], [723, 32767], [724, 32767], [725, 32767], [726, 32767], [727, 32767], [728, 32767], [729, 32767], [730, 32767], [731, 29253], [732, 32020], [733, 32767], [734, 32767], [735, 32683], [736, 31010], [737, 30535], [738, 30886], [739, 22981], [740, 32646], [741, 32767], [742, 30614], [743, 32767], [744, 27003], [745, 32767], [746, 29018], [747, 30973], [748, 28546], [749, 32767], [750, 25787], [751, 31403], [752, 29204], [753, 29662], [754, 32445], [755, 28439], [756, 32767], [757, 30480], [758, 32767], [759, 29511], [760, 32767], [761, 27977], [762, 31553], [763, 28879], [764, 32767], [765, 30717], [766, 32734], [767, 28188], [768, 22312], [769, 13472], [770, 30322], [771, 28359], [772, 32767], [773, 29219], [774, 27701], [775, 30402], [776, 31705], [777, 32767], [778, 31587], [779, 28495], [780, 32767], [781, 32767], [782, 32767], [783, 32767], [784, 32767], [785, 32767], [786, 30940], [787, 32767], [788, 32767], [789, 32767], [790, 32767], [791, 32767], [792, 32767], [793, 32752], [794, 32767], [795, 32767], [796, 32767], [797, 32767], [798, 32767], [799, 30422], [800, 32767], [801, 30977], [802, 32291], [803, 32767], [804, 21538], [805, 29548], [806, 26653], [807, 32767], [808, 28565], [809, 25114], [810, 32766], [811, 32767], [812, 27392], [813, 32767], [814, 32767], [815, 32767], [816, 32733], [817, 26777], [818, 31020], [819, 28425], [820, 32710], [821, 26987], [822, 32767], [823, 28206], [824, 26146], [825, 29534], [826, 32767], [827, 29095], [828, 32767], [829, 22989], [830, 18863], [831, 19300], [832, 14305], [833, 12842], [834, 17375], [835, 19788], [836, 21078], [837, 14668], [838, 7919], [839, 13271], [840, 10157], [841, 8511], [842, 9763], [843, 11613], [844, 10350], [845, 8246], [846, 5773], [847, 8835], [848, 9310], [849, 10937], [850, 10255], [851, 5937], [852, 7044], [853, 2705], [854, 2454], [855, 1695], [856, 1342], [857, 956], [858, 910], [859, 767], [860, 475], [861, 6983], [862, 6302], [863, 10274], [864, 7773], [865, 7462], [866, 5111], [867, 5778], [868, 2899], [869, 2178], [870, 2255], [871, 1805], [872, 2369], [873, 2947], [874, 8061], [875, 5482], [876, 4792], [877, 6244], [878, 10347], [879, 9133], [880, 9925], [881, 9434], [882, 7254], [883, 4634], [884, 3043], [885, 2444], [886, 1812], [887, 1324], [888, 938], [889, 5571], [890, 3866], [891, 3053], [892, 6967], [893, 5302], [894, 4215], [895, 3022], [896, 6853], [897, 4806], [898, 6527], [899, 4491], [900, 5424], [901, 5331], [902, 2530], [903, 3170], [904, 2392], [905, 1595], [906, 1955], [907, 1426], [908, 1174], [909, 1192], [910, 1017], [911, 1539], [912, 1410], [913, 1264], [914, 1704], [915, 2606], [916, 3144], [917, 4148], [918, 3882], [919, 4053], [920, 4403], [921, 5076], [922, 6011], [923, 6936], [924, 7171], [925, 8118], [926, 9274], [927, 12162], [928, 8620], [929, 7168], [930, 7215], [931, 7316], [932, 6866], [933, 6433], [934, 4195], [935, 5517], [936, 4196], [937, 3462], [938, 3697], [939, 2833], [940, 2768], [941, 2061], [942, 2119], [943, 2192], [944, 1789], [945, 1499], [946, 1382], [947, 1272], [948, 1327], [949, 1145], [950, 4177], [951, 4143], [952, 2901], [953, 2802], [954, 1955], [955, 1351], [956, 1081], [957, 1154], [958, 827], [959, 692], [960, 631], [961, 509], [962, 442], [963, 436], [964, 476], [965, 485], [966, 445], [967, 440], [968, 275], [969, 221], [970, 191], [971, 224], [972, 175], [973, 142], [974, 149], [975, 117], [976, 101], [977, 102], [978, 87], [979, 74], [980, 58], [981, 61], [982, 48], [983, 39], [984, 25], [985, 19], [986, 17], [987, 17], [988, 19], [989, 17], [990, 17], [991, 17], [992, 19], [993, 42], [994, 0], [995, 0], [996, 0], [997, 0], [998, 0], [999, 0], [1000, 0], [1001, 0], [1002, 0], [1003, 0], [1004, 0], [1005, 0], [1006, 0], [1007, 0], [1008, 0], [1009, 0], [1010, 0], [1011, 0], [1012, 0], [1013, 0], [1014, 0], [1015, 0], [1016, 0], [1017, 0], [1018, 0], [1019, 0], [1020, 0], [1021, 0], [1022, 0], [1023, 0]]
        print(self.wave)

    def paintEvent(self, e):
        qp = QPainter()
        qp.begin(self)
        self.drawWidget(qp)
        qp.end()

    def drawWidget(self, qp):
        size = self.size()
        w = size.width()
        h = size.height()
        print("Size :",w,h)
        pen = QPen(QColor(200, 20, 20), 1, Qt.SolidLine)

        # qp.setRenderHint(QPainter.Antialiasing)
        qp.setPen(pen)
        qp.setBrush(Qt.NoBrush)
        qp.drawRect(0, 0, w-1, h-1)

        for i in self.wave:
            v = abs(i[1]/300-100)
            pen = QPen(QColor(200-v, 20+v, 20), 1, Qt.SolidLine)
            qp.setPen(pen)
            qp.drawLine(i[0], h/2-i[1]/300, i[0], h/2+i[1]/300)


class Example(QWidget):
    def __init__(self):
        super().__init__()
        self.initUI()

    def initUI(self):
        AWF = AudioWaveform()
        tester = QPushButton("tester", self)
        Vbox = QVBoxLayout()
        Vbox.addWidget(AWF)
        Vbox.addWidget(tester)
        self.setLayout(Vbox)
        self.setGeometry(-600, 300, 360, 720)
        self.setWindowTitle("Pre-Research")

        tester.clicked.connect(self.tester)

        self.show()

    def tester(self):
        print("This is Tester!")


if __name__ == "__main__":
    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
